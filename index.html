<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <title>๐ฎ ูุนุจุฉ ูุงุฑูู ุงูุฎุงุฑูุฉ - ูุธุงู ุงููุฑุงุญู ุงููุชูุงูู</title>
    
    <!-- ุงูุฃููููุงุช -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- ุงูุฎุท ุงูุนุฑุจู -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- ุงูุฃููุงุท -->
    <link rel="stylesheet" href="style.css">
    
    <style>
        /* ุชุซุจูุช ูููุน ุงูุชูุจูุฑ ุนูู ุงูุฌูุงู */
        * {
            touch-action: manipulation;
        }
        
        /* ุฅุตูุงุญ ูุดููุฉ ุงูุตูุฑุฉ */
        #player-img {
            width: 150px;
            height: 200px;
            object-fit: cover;
            border: 3px solid #FFD700;
            border-radius: 10px;
            display: block;
            margin: 0 auto;
        }
        
        /* ููุน ุงูุชุญุฏูุฏ */
        .no-select {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
    </style>
</head>
<body class="no-select">
    <!-- ุดุงุดุฉ ุงูุชุญููู -->
    <div id="loading-screen">
        <div class="loading-content">
            <div class="loader">
                <div class="spinner"></div>
                <h2>ุฌุงุฑู ุชุญููู ุงููุนุจุฉ...</h2>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- ุดุงุดุฉ ุงูุจุฏุงูุฉ -->
    <div id="start-screen" class="screen active">
        <div class="start-container">
            <header class="game-header">
                <h1><i class="fas fa-gamepad"></i> ูุนุจุฉ ูุงุฑูู ุงูุฎุงุฑูุฉ</h1>
                <p class="tagline">ูุบุงูุฑุฉ ููุชุนุฉ ุนุจุฑ ูุฑุงุญู ูุชุนุฏุฏุฉ!</p>
            </header>

            <main class="main-content">
                <!-- ูุณู ุงุฎุชูุงุฑ ุงููุฑุญูุฉ -->
                <section class="levels-section">
                    <h2><i class="fas fa-layer-group"></i> ุงุฎุชุฑ ุงููุฑุญูุฉ</h2>
                    <div class="levels-grid" id="levels-grid">
                        <!-- ุณูุชู ููุคู ุจูุงุณุทุฉ JavaScript -->
                    </div>
                </section>

                <section class="character-section">
                    <div class="character-card">
                        <div class="character-image">
                            <!-- ุตูุฑุฉ ุงููุงุนุจ -->
                            <img src="player.png" alt="ุจุทู ุงููุนุจุฉ" id="player-img" 
                                 onerror="this.onerror=null; this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjRjc0QzNDIi8+PHJlY3QgeD0iMjAiIHk9IjMwIiB3aWR0aD0iMTEwIiBoZWlnaHQ9IjE0MCIgZmlsbD0jQzAzOTJCLyI+PGNpcmNsZSBjeD0iNzUiIGN5PSI1MCIgcj0iMjAiIGZpbGw9IiMyOEEwQzkiLz48Y2lyY2xlIGN4PSI0NSIgY3k9IjUwIiByPSIyMCIgZmlsbD0iIzI4QTBDOSIvPjxjaXJjbGUgY3g9IjUwIiBjeT0iODAiIHI9IjEwIiBmaWxsPSIjRkZGRkZGIi8+PHRleHQgeD0iNTAlIiB5PSI0NSUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiNGRkZGRkYiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIyMCI+TUU8L3RleHQ+PC9zdmc+';">
                            <div class="character-badge">
                                <i class="fas fa-star"></i>
                                ุงูุจุทู
                            </div>
                        </div>
                        <div class="character-info">
                            <h3><i class="fas fa-user-ninja"></i> ูุงุฑูู ุงูุฎุงุฑู</h3>
                            <div class="character-stats">
                                <div class="stat"><i class="fas fa-bolt"></i> ุณุฑุนุฉ ุนุงููุฉ</div>
                                <div class="stat"><i class="fas fa-shield-alt"></i> ุฏูุงุน ููู</div>
                                <div class="stat"><i class="fas fa-fist-raised"></i> ููุฉ ุฎุงุฑูุฉ</div>
                            </div>
                            <div class="character-description">
                                <p>ุงูุทูู ูู ูุบุงูุฑุฉ ูุฐููุฉ ุนุจุฑ ูุฑุงุญู ูุชุนุฏุฏุฉุ ุงุฌูุน ุงูุนููุงุช ุงูุฐูุจูุฉุ ูุฒู ุงูุฃุนุฏุงุกุ ููุตู ูููุตุฑ ุงููููู ูู ูู ูุฑุญูุฉ!</p>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="stats-section">
                    <h2><i class="fas fa-chart-line"></i> ุฅุญุตุงุฆูุงุช ุงููุนุจุฉ</h2>
                    <div class="stats-grid">
                        <div class="stat-box">
                            <div class="stat-icon"><i class="fas fa-crown"></i></div>
                            <div class="stat-details">
                                <span class="stat-label">ุฃูุถู ูุชูุฌุฉ</span>
                                <span class="stat-value" id="best-score">0</span>
                            </div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-icon"><i class="fas fa-clock"></i></div>
                            <div class="stat-details">
                                <span class="stat-label">ุงููุฑุงุญู</span>
                                <span class="stat-value" id="total-levels">3</span>
                            </div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-icon"><i class="fas fa-heart"></i></div>
                            <div class="stat-details">
                                <span class="stat-label">ุงูุฃุฑูุงุญ</span>
                                <span class="stat-value">3</span>
                            </div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-icon"><i class="fas fa-coins"></i></div>
                            <div class="stat-details">
                                <span class="stat-label">ุงูุนููุงุช</span>
                                <span class="stat-value">50+</span>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="controls-section">
                    <h2><i class="fas fa-gamepad"></i> ุทุฑููุฉ ุงูุชุญูู</h2>
                    <div class="controls-guide">
                        <div class="control-item">
                            <div class="control-keys">
                                <kbd>โ</kbd>
                                <kbd>โ</kbd>
                            </div>
                            <span class="control-text">ุงูุญุฑูุฉ ูููู ููุณุงุฑ</span>
                        </div>
                        <div class="control-item">
                            <div class="control-keys">
                                <kbd>Space</kbd>
                            </div>
                            <span class="control-text">ุงูููุฒ</span>
                        </div>
                        <div class="control-item">
                            <div class="control-keys">
                                <kbd>P</kbd>
                            </div>
                            <span class="control-text">ุฅููุงู/ูุชุงุจุนุฉ</span>
                        </div>
                        <div class="control-item">
                            <div class="control-keys">
                                <kbd>ESC</kbd>
                            </div>
                            <span class="control-text">ุงููุงุฆูุฉ</span>
                        </div>
                    </div>
                </section>

                <section class="action-section">
                    <div class="action-buttons">
                        <button id="start-game-btn" class="btn-primary">
                            <i class="fas fa-play-circle"></i>
                            <span>๐ฎ ุงุจุฏุฃ ุงููุนุจ (ุงููุฑุญูุฉ 1)</span>
                        </button>
                        <button id="how-to-play-btn" class="btn-secondary">
                            <i class="fas fa-question-circle"></i>
                            <span>๐ ุชุนูููุงุช ุงููุนุจ</span>
                        </button>
                        <button id="level-select-btn" class="btn-secondary">
                            <i class="fas fa-list-ol"></i>
                            <span>๐บ๏ธ ูุงุฆูุฉ ุงููุฑุงุญู</span>
                        </button>
                    </div>
                </section>

                <section class="tips-section">
                    <div class="tip-card">
                        <div class="tip-icon">
                            <i class="fas fa-lightbulb"></i>
                        </div>
                        <div class="tip-content">
                            <h4>๐ก ูุตุงุฆุญ ูููุฑุงุญู ุงููุชูุฏูุฉ</h4>
                            <p>ูู ูุฑุญูุฉ ุฃุทูู ูุฃุตุนุจ ูู ุณุงุจูุชูุง! ุญุงูู ุฌูุน ูู ุงูุนููุงุช ูุชุฌูุจ ุงูุฃุนุฏุงุก ููุญุตูู ุนูู ููุงุท ุฅุถุงููุฉ.</p>
                        </div>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <!-- ุดุงุดุฉ ุงููุนุจ -->
    <div id="game-screen" class="screen">
        <div class="game-ui">
            <!-- ุดุฑูุท ุงููุนูููุงุช ุงูุนููู -->
            <div class="game-hud">
                <div class="hud-left">
                    <div class="hud-item">
                        <i class="fas fa-heart"></i>
                        <span id="hud-lives">3</span>
                    </div>
                    <div class="hud-item">
                        <i class="fas fa-star"></i>
                        <span id="hud-score">0</span>
                    </div>
                    <div class="hud-item">
                        <i class="fas fa-coins"></i>
                        <span id="hud-coins">0/50</span>
                    </div>
                    <div class="hud-item">
                        <i class="fas fa-flag"></i>
                        <span id="hud-level">1</span>
                    </div>
                </div>
                <div class="hud-center">
                    <div class="timer-box">
                        <i class="fas fa-clock"></i>
                        <span id="hud-timer">03:00</span>
                    </div>
                </div>
                <div class="hud-right">
                    <button id="pause-btn" class="hud-btn" title="ุฅููุงู/ูุชุงุจุนุฉ">
                        <i class="fas fa-pause"></i>
                    </button>
                    <button id="sound-btn" class="hud-btn" title="ุชุดุบูู/ุฅููุงู ุงูุตูุช">
                        <i class="fas fa-volume-up"></i>
                    </button>
                    <button id="fullscreen-btn" class="hud-btn" title="ููุก ุงูุดุงุดุฉ">
                        <i class="fas fa-expand"></i>
                    </button>
                </div>
            </div>

            <!-- ููุทูุฉ ุงููุนุจุฉ -->
            <div class="game-container">
                <canvas id="game-canvas"></canvas>
                
                <!-- ุฃุฒุฑุงุฑ ุงูุชุญูู ููุฌูุงู -->
                <div class="mobile-controls">
                    <div class="controls-left">
                        <button id="btn-left" class="mobile-btn direction-btn">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <button id="btn-right" class="mobile-btn direction-btn">
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                    <div class="controls-right">
                        <button id="btn-jump" class="mobile-btn jump-btn">
                            <i class="fas fa-arrow-up"></i>
                            <span>ููุฒ</span>
                        </button>
                        <button id="btn-slide" class="mobile-btn slide-btn">
                            <i class="fas fa-arrow-down"></i>
                            <span>ุชุฒุญูู</span>
                        </button>
                    </div>
                </div>

                <!-- ุฑุณุงูุฉ ุงููููุฉ -->
                <div class="mission-alert">
                    <span id="mission-text">๐ฏ ุงุฌูุน ุงูุนููุงุช ููุตู ูููุตุฑ!</span>
                </div>
            </div>
        </div>
    </div>

    <!-- ุดุงุดุฉ ุงูููุงูุฉ -->
    <div id="end-screen" class="screen">
        <div class="end-container">
            <div class="result-section">
                <div class="result-icon" id="result-icon">
                    <i class="fas fa-trophy"></i>
                </div>
                <h1 id="end-title">๐ ุชูุงูููุง!</h1>
                <p id="end-message" class="result-message">ููุฏ ุฃูููุช ุงููุฑุญูุฉ ุจูุฌุงุญ</p>
            </div>

            <div class="stats-section-end">
                <div class="final-score-container">
                    <h3>ุงููุชูุฌุฉ ุงูููุงุฆูุฉ</h3>
                    <div class="final-score" id="final-score">0</div>
                </div>

                <div class="detailed-stats">
                    <div class="stat-card-end">
                        <div class="stat-icon-end"><i class="fas fa-coins"></i></div>
                        <div class="stat-details-end">
                            <span>ุงูุนููุงุช</span>
                            <strong id="final-coins">0/50</strong>
                        </div>
                    </div>
                    <div class="stat-card-end">
                        <div class="stat-icon-end"><i class="fas fa-clock"></i></div>
                        <div class="stat-details-end">
                            <span>ุงูููุช ุงููุชุจูู</span>
                            <strong id="final-time">00:00</strong>
                        </div>
                    </div>
                    <div class="stat-card-end">
                        <div class="stat-icon-end"><i class="fas fa-skull"></i></div>
                        <div class="stat-details-end">
                            <span>ุงูุฃุนุฏุงุก</span>
                            <strong id="final-enemies">0</strong>
                        </div>
                    </div>
                    <div class="stat-card-end">
                        <div class="stat-icon-end"><i class="fas fa-flag"></i></div>
                        <div class="stat-details-end">
                            <span>ุงููุฑุญูุฉ</span>
                            <strong id="final-level">1</strong>
                        </div>
                    </div>
                </div>
            </div>

            <div class="action-buttons-end">
                <button id="play-again-btn" class="btn-primary">
                    <i class="fas fa-redo"></i>
                    <span>๐ ูุนุจ ูุฑุฉ ุฃุฎุฑู</span>
                </button>
                <button id="next-level-btn" class="btn-secondary">
                    <i class="fas fa-arrow-right"></i>
                    <span>โก๏ธ ุงููุฑุญูุฉ ุงูุชุงููุฉ</span>
                </button>
                <button id="back-to-menu-btn" class="btn-secondary">
                    <i class="fas fa-home"></i>
                    <span>๐ ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ</span>
                </button>
            </div>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุงุฎุชูุงุฑ ุงููุฑุญูุฉ -->
    <div id="levels-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-layer-group"></i> ูุงุฆูุฉ ุงููุฑุงุญู</h2>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="levels-list" id="levels-list">
                    <!-- ุณูุชู ููุคู ุจูุงุณุทุฉ JavaScript -->
                </div>
                <div class="levels-info">
                    <p><i class="fas fa-info-circle"></i> ุงุฎุชุฑ ูุฑุญูุฉ ููุนุจ ุฃู ุงุณุชูุฑ ูู ุญูุซ ุชูููุช</p>
                </div>
            </div>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุงูุชุนูููุงุช -->
    <div id="instructions-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-graduation-cap"></i> ุฏููู ุงููุนุจ ุงููุงูู</h2>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="instruction">
                    <div class="instruction-icon">
                        <i class="fas fa-bullseye"></i>
                    </div>
                    <div class="instruction-content">
                        <h3>๐ฏ ูุฏู ุงููุนุจุฉ</h3>
                        <p>ุงุฌูุน ูู ุงูุนููุงุช ุงูุฐูุจูุฉ ูุชุฌูุจ ุงูุฃุนุฏุงุก ูููุตูู ุฅูู ุงููุตุฑ ุงููููู ูู ููุงูุฉ ูู ูุฑุญูุฉ.</p>
                    </div>
                </div>
                <div class="instruction">
                    <div class="instruction-icon">
                        <i class="fas fa-gamepad"></i>
                    </div>
                    <div class="instruction-content">
                        <h3>๐ฎ ุทุฑููุฉ ุงูุชุญูู</h3>
                        <p>ุงุณุชุฎุฏู ุฃุฒุฑุงุฑ ุงูุฃุณูู ููุญุฑูุฉ ูููุชุงุญ ุงููุณุงูุฉ ููููุฒ. ุนูู ุงูุฌูุงูุ ุงุณุชุฎุฏู ุงูุฃุฒุฑุงุฑ ุงูุธุงูุฑุฉ.</p>
                    </div>
                </div>
                <div class="instruction">
                    <div class="instruction-icon">
                        <i class="fas fa-fist-raised"></i>
                    </div>
                    <div class="instruction-content">
                        <h3>โ๏ธ ููููุฉ ุงููุฌูู</h3>
                        <p>ุงููุฒ ููู ุฑุคูุณ ุงูุฃุนุฏุงุก ููุฒููุชูู. ูู ุนุฏู ููุฒูู ูุนุทูู 200 ููุทุฉ.</p>
                    </div>
                </div>
                <div class="instruction">
                    <div class="instruction-icon">
                        <i class="fas fa-coins"></i>
                    </div>
                    <div class="instruction-content">
                        <h3>๐ฐ ุฌูุน ุงูููุงุท</h3>
                        <p>ูู ุนููุฉ ุฐูุจูุฉ = 100 ููุทุฉ. ุญุงูู ุฌูุนูุง ุฌููุนุงู ูููุงูุฃุฉ ุฅุถุงููุฉ.</p>
                    </div>
                </div>
                <div class="instruction">
                    <div class="instruction-icon">
                        <i class="fas fa-layer-group"></i>
                    </div>
                    <div class="instruction-content">
                        <h3>๐ ูุธุงู ุงููุฑุงุญู</h3>
                        <p>ุงููุนุจุฉ ุชุญุชูู ุนูู 3 ูุฑุงุญูุ ูู ูุฑุญูุฉ ุฃุทูู ูุฃุตุนุจ ูู ุณุงุจูุชูุง.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ุฅุดุนุงุฑุงุช -->
    <div id="notification" class="notification">
        <div class="notification-content">
            <i class="fas fa-info-circle"></i>
            <span id="notification-text">ูุฑุญุจุงู ุจู ูู ูุนุจุฉ ูุงุฑูู ุงูุฎุงุฑูุฉ!</span>
        </div>
    </div>

    <!-- ุงูุฃุตูุงุช -->
    <audio id="sound-jump" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-player-jumping-in-a-video-game-2043.mp3" type="audio/mpeg">
    </audio>
    <audio id="sound-coin" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-winning-chimes-2015.mp3" type="audio/mpeg">
    </audio>
    <audio id="sound-hit" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-retro-game-emergency-alarm-1000.mp3" type="audio/mpeg">
    </audio>

    <!-- ุงููููุงุช ุงูุจุฑูุฌูุฉ -->
    <script src="game-engine.js"></script>
    <script src="levels.js"></script>
    <script src="level-1.js"></script>
    <script src="level-2.js"></script>
    <script src="level-3.js"></script>
    <script src="app.js"></script>
    
    <!-- Script ุฅุถุงูู -->
    <script>
        // ุฏุงูุฉ ูุนุงูุฌุฉ ุฎุทุฃ ุงูุตูุฑุฉ
        function handleImageError(img) {
            console.log('โ๏ธ ูุดู ุชุญููู ุงูุตูุฑุฉุ ุฌุงุฑู ุงุณุชุฎุฏุงู ุตูุฑุฉ ุจุฏููุฉ');
            img.onerror = null;
            img.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjRjc0QzNDIi8+PHJlY3QgeD0iMjAiIHk9IjMwIiB3aWR0aD0iMTEwIiBoZWlnaHQ9IjE0MCIgZmlsbD0jQzAzOTJCLyI+PGNpcmNsZSBjeD0iNzUiIGN5PSI1MCIgcj0iMjAiIGZpbGw9IiMyOEEwQzkiLz48Y2lyY2xlIGN4PSI0NSIgY3k9IjUwIiByPSIyMCIgZmlsbD0iIzI4QTBDOSIvPjxjaXJjbGUgY3g9IjUwIiBjeT0iODAiIHI9IjEwIiBmaWxsPSIjRkZGRkZGIi8+PHRleHQgeD0iNTAlIiB5PSI0NSUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiNGRkZGRkYiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIyMCI+TUU8L3RleHQ+PC9zdmc+';
            img.style.objectFit = 'cover';
        }
        
        // ูููุน ุงูุชูุจูุฑ ุนูู ุงูุฌูุงู
        document.addEventListener('gesturestart', function(e) {
            e.preventDefault();
        });
        
        // ูููุน ุงูุชูุฑูุฑ ุนูู ุงูุฌูุงู ุนูุฏ ุงููุนุจ
        document.addEventListener('touchmove', function(e) {
            if(e.target.classList.contains('mobile-btn')) {
                e.preventDefault();
            }
        }, { passive: false });
        
        // ุชุญุฏูุซ ุฒุฑ ุงูุจุฏุงูุฉ ุจูุงุกู ุนูู ุขุฎุฑ ูุฑุญูุฉ ูุนุจ
        document.addEventListener('DOMContentLoaded', function() {
            const lastLevel = localStorage.getItem('mario_last_level') || 1;
            const startBtn = document.getElementById('start-game-btn');
            if (startBtn) {
                startBtn.innerHTML = `<i class="fas fa-play-circle"></i><span>๐ฎ ุงุจุฏุฃ ุงููุนุจ (ุงููุฑุญูุฉ ${lastLevel})</span>`;
            }
        });
    </script>
</body>
</html>
